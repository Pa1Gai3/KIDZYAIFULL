import{c as j,r as o,P as u,j as e,C as b,B as g,S as i,T as A,g as S}from"./index-W2rP_A9A.js";import{U}from"./user-BBNaTgZy.js";import{D as R,R as f}from"./refresh-cw-CsxKXGEf.js";import{A as v}from"./arrow-right-7eUXvB6i.js";import{G as B}from"./grid-3x3-DKWlmmJu.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=j("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=j("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),F=({onSubmit:w,onPhotoshootMode:N,isGenerating:n})=>{const[y,m]=o.useState(1),[d,x]=o.useState(!1),[t,r]=o.useState({childName:"",age:5,gender:"Boy",theme:"",paperSize:u.SQUARE,buddyName:"",buddyType:"",description:"",photoBase64:void 0,avatarUrl:void 0}),h=o.useRef(null),k=s=>{var a;const l=(a=s.target.files)==null?void 0:a[0];if(l){const c=new FileReader;c.onloadend=()=>{r(z=>({...z,photoBase64:c.result}))},c.readAsDataURL(l)}},p=async()=>{if(!(!t.photoBase64||!t.theme)){x(!0);try{const{imageUrl:s,description:l}=await S(t);r(a=>({...a,avatarUrl:s,description:l})),m(2)}catch(s){console.error("Photoshoot generation error details:",s),alert("Failed to create magic photoshoot. Please ensure the photo is clear.")}finally{x(!1)}}},C=()=>{if(t.avatarUrl){const s=document.createElement("a");s.href=t.avatarUrl,s.download=`${t.childName}-${t.theme}-photoshoot.png`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}};return y===1?e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6 md:py-16 animate-fade-in-up",children:e.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl shadow-brand-900/5 border border-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-brand-600 via-purple-600 to-magic-500 p-6 md:p-10 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-32"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-md",children:e.jsx(b,{size:24,className:"text-white md:w-7 md:h-7"})}),e.jsx("h2",{className:"text-xl md:text-3xl font-display font-bold",children:"Step 1: The Magic Photoshoot"})]}),e.jsx("p",{className:"opacity-90 text-sm md:text-lg font-medium pl-12 md:pl-14",children:"Let's turn your child into their dream character."})]})]}),e.jsxs("div",{className:"p-4 md:p-10 space-y-6 md:space-y-12",children:[e.jsxs("div",{className:"flex flex-row md:grid md:grid-cols-12 gap-4 md:gap-12 items-start",children:[e.jsxs("div",{className:"w-[35%] md:w-auto md:col-span-4 shrink-0 space-y-2 md:space-y-3",children:[e.jsxs("label",{className:"text-[10px] md:text-sm font-bold text-slate-700 ml-1 flex items-center whitespace-nowrap",children:[e.jsx(P,{size:12,className:"mr-1 md:mr-2 text-brand-500 md:w-4 md:h-4"}),e.jsx("span",{className:"md:hidden",children:"Photo"}),e.jsx("span",{className:"hidden md:inline",children:"Upload Photo"})]}),e.jsxs("div",{onClick:()=>{var s;return(s=h.current)==null?void 0:s.click()},className:`aspect-square rounded-2xl md:rounded-3xl border-2 border-dashed transition-all duration-300 relative overflow-hidden group cursor-pointer ${t.photoBase64?"border-brand-500 p-0.5 md:p-1 bg-white shadow-lg shadow-brand-100":"border-slate-300 hover:border-brand-400 hover:bg-slate-50"}`,children:[t.photoBase64?e.jsxs("div",{className:"relative w-full h-full rounded-xl md:rounded-2xl overflow-hidden group-hover:opacity-90 transition",children:[e.jsx("img",{src:t.photoBase64,alt:"Upload",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition",children:e.jsx("span",{className:"text-white font-bold text-[10px] md:text-sm bg-black/20 backdrop-blur px-2 py-1 rounded-full",children:"Change"})})]}):e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 group-hover:text-brand-500 transition",children:[e.jsx("div",{className:"bg-slate-100 group-hover:bg-brand-50 p-3 md:p-5 rounded-full mb-2 md:mb-3 transition",children:e.jsx(b,{size:20,className:"md:w-8 md:h-8"})}),e.jsxs("span",{className:"text-[10px] md:text-sm font-bold text-center leading-tight",children:["Click to",e.jsx("br",{className:"md:hidden"})," Upload"]})]}),e.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),e.jsx("p",{className:"hidden md:block text-xs text-center text-slate-400 font-medium",children:"Use a clear, front-facing photo."})]}),e.jsxs("div",{className:"flex-1 md:col-span-8 space-y-3 md:space-y-6",children:[e.jsxs("div",{className:"space-y-1 md:space-y-2",children:[e.jsx("label",{className:"text-[10px] md:text-sm font-bold text-slate-700 ml-1",children:"Name"}),e.jsx("input",{type:"text",value:t.childName,onChange:s=>r({...t,childName:s.target.value}),className:"w-full px-3 py-2 md:px-5 md:py-3.5 rounded-xl md:rounded-2xl bg-slate-50 border border-slate-200 focus:border-brand-500 focus:bg-white focus:ring-2 md:focus:ring-4 focus:ring-brand-500/10 outline-none transition font-medium text-sm md:text-base",placeholder:"e.g. Aarav"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-5",children:[e.jsxs("div",{className:"space-y-1 md:space-y-2",children:[e.jsx("label",{className:"text-[10px] md:text-sm font-bold text-slate-700 ml-1",children:"Age"}),e.jsx("input",{type:"number",value:t.age,onChange:s=>r({...t,age:parseInt(s.target.value)}),className:"w-full px-3 py-2 md:px-5 md:py-3.5 rounded-xl md:rounded-2xl bg-slate-50 border border-slate-200 focus:border-brand-500 focus:bg-white focus:ring-2 md:focus:ring-4 focus:ring-brand-500/10 outline-none transition font-medium text-sm md:text-base"})]}),e.jsxs("div",{className:"space-y-1 md:space-y-2",children:[e.jsx("label",{className:"text-[10px] md:text-sm font-bold text-slate-700 ml-1",children:"Gender"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:t.gender,onChange:s=>r({...t,gender:s.target.value}),className:"w-full px-3 py-2 md:px-5 md:py-3.5 rounded-xl md:rounded-2xl bg-slate-50 border border-slate-200 focus:border-brand-500 focus:bg-white focus:ring-2 md:focus:ring-4 focus:ring-brand-500/10 outline-none transition appearance-none font-medium cursor-pointer text-sm md:text-base",children:[e.jsx("option",{value:"Boy",children:"Boy"}),e.jsx("option",{value:"Girl",children:"Girl"})]}),e.jsx(U,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none w-3 h-3 md:w-4 md:h-4"})]})]})]}),e.jsxs("div",{className:"space-y-1 md:space-y-2",children:[e.jsx("label",{className:"text-[10px] md:text-sm font-bold text-slate-700 ml-1",children:"Book Size"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:t.paperSize,onChange:s=>r({...t,paperSize:s.target.value}),className:"w-full px-3 py-2 md:px-5 md:py-3.5 rounded-xl md:rounded-2xl bg-slate-50 border border-slate-200 focus:border-brand-500 focus:bg-white focus:ring-2 md:focus:ring-4 focus:ring-brand-500/10 outline-none transition appearance-none font-medium cursor-pointer text-sm md:text-base",children:Object.values(u).map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx(g,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none w-3 h-3 md:w-4 md:h-4"})]})]}),e.jsxs("div",{className:"hidden md:flex bg-sky-50 border border-sky-100 p-5 rounded-2xl items-start gap-4",children:[e.jsx("div",{className:"bg-sky-100 p-2 rounded-lg text-sky-600 shrink-0",children:e.jsx(i,{size:20})}),e.jsxs("p",{className:"text-sm text-sky-900 leading-relaxed pt-1",children:[e.jsx("span",{className:"font-bold",children:"Magic Analysis:"})," Our AI will automatically analyze your photo to capture facial features like hair color, eye shape, and smile to keep the character consistent!"]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100 my-6 md:my-8"}),e.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.jsxs("label",{className:"text-lg md:text-xl font-display font-bold text-slate-900 flex items-center",children:[e.jsx(G,{className:"mr-2 text-magic-500 w-5 h-5 md:w-6 md:h-6"}),"Choose a Theme"]}),e.jsx("div",{className:"h-80 md:h-96 overflow-y-auto pr-2 custom-scrollbar",children:e.jsx("div",{className:"space-y-6 md:space-y-8",children:Object.entries(A).map(([s,l])=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 md:mb-4 flex items-center",children:[e.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full mr-2"}),s]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2 md:gap-3",children:l.map(a=>e.jsxs("button",{onClick:()=>r({...t,theme:a}),className:`px-3 py-2 md:px-4 md:py-3 rounded-xl text-xs md:text-sm font-medium text-left transition-all duration-200 relative overflow-hidden group ${t.theme===a?"bg-gradient-to-br from-brand-500 to-magic-500 text-white shadow-lg shadow-brand-500/30 scale-105 ring-offset-2 ring-offset-white":"bg-slate-50 text-slate-600 hover:bg-white hover:shadow-md border border-transparent hover:border-slate-100"}`,children:[e.jsx("span",{className:"relative z-10",children:a}),t.theme===a&&e.jsx(i,{className:"absolute top-1 right-1 opacity-20 text-white w-6 h-6 md:w-8 md:h-8"})]},a))})]},s))})})]}),e.jsxs("div",{className:"pt-4 md:pt-6",children:[e.jsx("button",{onClick:p,disabled:d||!t.photoBase64||!t.theme||!t.childName,className:"w-full bg-slate-900 hover:bg-brand-600 disabled:bg-slate-200 disabled:text-slate-400 disabled:cursor-not-allowed text-white text-base md:text-xl font-bold py-4 md:py-5 rounded-2xl shadow-xl shadow-slate-900/20 hover:shadow-brand-500/30 transition-all transform hover:-translate-y-1 flex items-center justify-center space-x-3 group",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 md:h-6 md:w-6 border-b-2 border-white/50 border-r-2 border-r-white"}),e.jsx("span",{children:"Casting Magic Spell..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(i,{size:20,className:"text-yellow-300 group-hover:animate-pulse md:w-6 md:h-6"}),e.jsx("span",{children:"Generate Magic Photoshoot"})]})}),!t.photoBase64&&e.jsx("p",{className:"text-center text-red-400/80 text-xs md:text-sm mt-3 md:mt-4 font-medium animate-pulse",children:"* Please upload a photo to start the magic"})]})]})]})}):e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-[2rem] md:rounded-[2.5rem] shadow-2xl shadow-slate-200/50 border border-white/50 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 inset-x-0 h-48 md:h-64 bg-slate-900"}),e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-brand-500/20 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"relative z-10 px-6 md:px-12 pt-8 md:pt-12 pb-12 md:pb-16",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 md:mb-12 text-white",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2 text-brand-300 font-bold uppercase tracking-wider text-xs md:text-sm",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-400 animate-pulse"}),e.jsx("span",{children:"Photoshoot Complete"})]}),e.jsx("h2",{className:"text-3xl md:text-5xl font-display font-bold",children:"The Reveal"}),e.jsxs("p",{className:"opacity-80 text-base md:text-lg mt-2 font-light",children:["Here is ",t.childName," transformed into a ",t.theme,"!"]})]}),e.jsx("button",{onClick:()=>m(1),className:"mt-6 md:mt-0 px-6 py-2 bg-white/10 hover:bg-white/20 backdrop-blur rounded-full text-xs md:text-sm font-bold transition border border-white/10 w-fit",children:"Change Settings"})]}),e.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 md:gap-12",children:[e.jsxs("div",{className:"lg:col-span-5 flex flex-col items-center",children:[e.jsxs("div",{className:"relative group perspective-1000 mb-6 md:mb-8 w-full max-w-[320px] md:max-w-[400px]",children:[e.jsxs("div",{className:"aspect-square bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border-4 md:border-8 border-white ring-1 ring-slate-100 relative transform transition duration-500 group-hover:scale-[1.02]",children:[t.avatarUrl?e.jsx("img",{src:t.avatarUrl,alt:"Generated Avatar",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-slate-100 flex items-center justify-center text-slate-300",children:"No Image"}),e.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-6 pt-24",children:e.jsx("p",{className:"text-white font-bold text-xl md:text-2xl font-display tracking-wide",children:t.theme})})]}),e.jsxs("div",{className:"absolute -top-4 -right-4 md:-top-6 md:-right-6 bg-yellow-400 text-yellow-950 font-black px-3 py-1.5 md:px-4 md:py-2 rounded-full shadow-xl rotate-12 border-2 border-white z-20 flex items-center gap-1 text-xs md:text-sm",children:[e.jsx(i,{size:14,fill:"currentColor",className:"md:w-4 md:h-4"})," Real AI Magic"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full max-w-[320px] md:max-w-[400px]",children:[e.jsxs("button",{onClick:C,className:"bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 md:py-3.5 rounded-xl flex items-center justify-center gap-2 transition text-sm md:text-base",children:[e.jsx(R,{size:16,className:"md:w-[18px]"}),"Download"]}),e.jsxs("button",{onClick:p,disabled:d,className:"bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 md:py-3.5 rounded-xl flex items-center justify-center gap-2 transition text-sm md:text-base",title:"Regenerate",children:[e.jsx(f,{size:16,className:d?"animate-spin md:w-[18px]":"md:w-[18px]"}),"Retake"]})]})]}),e.jsxs("div",{className:"lg:col-span-7 flex flex-col justify-center space-y-4 md:space-y-6 pt-4",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold text-slate-900 mb-2",children:"Choose Your Adventure"}),e.jsxs("div",{onClick:()=>!n&&w(t),className:`group relative bg-white border-2 border-slate-100 hover:border-brand-500 rounded-2xl md:rounded-[2rem] p-6 md:p-8 cursor-pointer transition-all duration-300 hover:shadow-2xl hover:shadow-brand-900/10 flex items-center gap-4 md:gap-6 overflow-hidden ${n?"opacity-50 pointer-events-none":""}`,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-50 rounded-full blur-3xl -mr-10 -mt-10 group-hover:bg-brand-100 transition-colors"}),e.jsx("div",{className:"bg-brand-50 group-hover:bg-brand-500 group-hover:text-white p-4 md:p-5 rounded-2xl text-brand-600 transition-colors duration-300 relative z-10 shrink-0",children:e.jsx(g,{size:28,className:"md:w-9 md:h-9"})}),e.jsxs("div",{className:"flex-1 relative z-10",children:[e.jsx("h4",{className:"text-lg md:text-2xl font-bold text-slate-900 group-hover:text-brand-600 transition-colors",children:"Create Color Storybook"}),e.jsx("p",{className:"text-slate-500 mt-1 md:mt-2 font-medium text-xs md:text-base",children:"Generate a 5-page adventure story with custom coloring pages featuring this character."})]}),e.jsx("div",{className:"bg-slate-100 text-slate-400 group-hover:bg-brand-500 group-hover:text-white p-2 md:p-3 rounded-full transition-all duration-300 transform group-hover:translate-x-1 relative z-10 shrink-0",children:n?e.jsx(f,{className:"animate-spin",size:20}):e.jsx(v,{size:20,className:"md:w-6 md:h-6"})})]}),e.jsxs("div",{onClick:()=>N(t),className:"group relative bg-white border-2 border-slate-100 hover:border-magic-500 rounded-2xl md:rounded-[2rem] p-6 md:p-8 cursor-pointer transition-all duration-300 hover:shadow-2xl hover:shadow-magic-900/10 flex items-center gap-4 md:gap-6 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-magic-50 rounded-full blur-3xl -mr-10 -mt-10 group-hover:bg-magic-100 transition-colors"}),e.jsx("div",{className:"bg-magic-50 group-hover:bg-magic-500 group-hover:text-white p-4 md:p-5 rounded-2xl text-magic-600 transition-colors duration-300 relative z-10 shrink-0",children:e.jsx(B,{size:28,className:"md:w-9 md:h-9"})}),e.jsxs("div",{className:"flex-1 relative z-10",children:[e.jsx("h4",{className:"text-lg md:text-2xl font-bold text-slate-900 group-hover:text-magic-600 transition-colors",children:"Enter Magic Gallery"}),e.jsx("p",{className:"text-slate-500 mt-1 md:mt-2 font-medium text-xs md:text-base",children:"Generate 4 more studio portraits: Action shots, close-ups, and playful scenes."})]}),e.jsx("div",{className:"bg-slate-100 text-slate-400 group-hover:bg-magic-500 group-hover:text-white p-2 md:p-3 rounded-full transition-all duration-300 transform group-hover:translate-x-1 relative z-10 shrink-0",children:e.jsx(v,{size:20,className:"md:w-6 md:h-6"})})]})]})]})]})]})})};export{F as default};
